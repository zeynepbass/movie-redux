"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createNode = void 0;
var render_1 = require("./render");
var set_styles_1 = require("./set-styles");
var TOOLTIP_CONTAINER_MAPPING = new Map();
var createNode = function (children, attrs, type, styles, uuid) {
    if (attrs === void 0) { attrs = {}; }
    if (typeof styles === 'string') {
        uuid = styles;
        styles = undefined;
    }
    var mountPoint = document.createElement('div');
    Object.keys(attrs).forEach(function (key) {
        mountPoint[key] = attrs[key];
    });
    if (styles) {
        (0, set_styles_1.setStyles)(mountPoint, styles);
    }
    if (type === 'tooltip') {
        mountPoint.setAttribute('data-uuid', uuid);
        if (TOOLTIP_CONTAINER_MAPPING.has(uuid)) {
            mountPoint = TOOLTIP_CONTAINER_MAPPING.get(uuid);
        }
        else {
            TOOLTIP_CONTAINER_MAPPING.set(uuid, mountPoint);
        }
        mountPoint.className = 'g2-tooltip';
    }
    (0, render_1.render)(children, mountPoint);
    return mountPoint;
};
exports.createNode = createNode;
